specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: File
    network: goerli
    source:
      address: "0xEf872c3e1Cb4E42f221D91566A6652CF635fAAB3"
      abi: File
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - File
      abis:
        - name: File
          file: ./abis/File.json
      eventHandlers:
        - event: fileUploaded(string,address,string,string,uint256,uint256)
          handler: handleFileUpload
      file: ./src/file.ts

  - kind: ethereum/contract
    name: UserFunctions
    network: goerli
    source:
      address: "0xd6e6D015231Ee21E2fDfE41304043f0451BFB0C3"
      abi: UserFunctions
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
      abis:
        - name: UserFunctions
          file: ./abis/userFunctions.json
      eventHandlers:
        - event: userAdded(address)
          handler: handleAddUser
      file: ./src/user.ts
